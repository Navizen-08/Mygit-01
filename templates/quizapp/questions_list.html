{% extends "base.html" %}
{% block title %}Questions List{% endblock %}

{% block content %}
  <h2>Question Bank</h2><br>

  <table class="questions-table">
    <thead>
      <tr>
        <th>Q.No.</th>
        <th>Question</th>
        <th>Option-A</th>
        <th>Option-B</th>
        <th>Option-C</th>
        <th>Option-D</th>
        <th>Correct</th>
        <th colspan="2" style="text-align: center;">Actions</th>
      </tr>
    </thead>

    <tbody>
      {% if questions %}
        {% for question in questions %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ question.text }}</td>
            <td>{{ question.option_a|default:"-" }}</td>
            <td>{{ question.option_b|default:"-" }}</td>
            <td>{{ question.option_c|default:"-" }}</td>
            <td>{{ question.option_d|default:"-" }}</td>
            <td>{{ question.correct }}</td>
            <td>
              <a href="{% url 'quizapp:edit_question' question.pk %}" class="btn-edit">Edit</a>
            </td>
            <td>
              <a href="{% url 'quizapp:delete_question' question.pk %}" class="btn-delete">Delete</a>
            </td>
          </tr>
        {% endfor %}
      {% else %}
        <tr>
          <td colspan="9" class="no-data">No questions found.</td>
        </tr>
      {% endif %}
    </tbody>
  </table>

  {% if is_paginated %}
    <div class="pagination">
      {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
      {% endif %}
      <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
      {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">Next</a>
      {% endif %}
    </div>
  {% endif %}

  <div class="actions">
    <a href="{% url 'quizapp:homepage' %}" class="btn-add">Back to Home</a>
  </div>
{% endblock %}
